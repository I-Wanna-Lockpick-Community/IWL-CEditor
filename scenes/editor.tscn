[gd_scene load_steps=11 format=3 uid="uid://djnt51xv7wn52"]

[ext_resource type="Theme" uid="uid://bvfthh0vm4fbp" path="res://resources/ui/uiTheme.tres" id="1_j8y2p"]
[ext_resource type="Script" uid="uid://2wjcj6frwpjo" path="res://scripts/editor.gd" id="2_o435n"]
[ext_resource type="Script" uid="uid://ced7aml4sfanx" path="res://scripts/modes.gd" id="3_3vi5u"]
[ext_resource type="Texture2D" uid="uid://brlbjt36syjq8" path="res://assets/ui/select.png" id="4_78fwb"]
[ext_resource type="Texture2D" uid="uid://tcsqjcnuio0j" path="res://assets/ui/tile.png" id="5_74j0u"]
[ext_resource type="Texture2D" uid="uid://cx3mntdf11c1g" path="res://assets/ui/key.png" id="6_sdh1e"]
[ext_resource type="Texture2D" uid="uid://ckk7i2y24ysor" path="res://assets/ui/door.png" id="7_2w0at"]
[ext_resource type="PackedScene" uid="uid://2hd65vn44me7" path="res://scenes/level.tscn" id="8_5tdu1"]
[ext_resource type="Script" uid="uid://b8v7boh47xdl1" path="res://scripts/level.gd" id="9_q8l03"]

[sub_resource type="ButtonGroup" id="ButtonGroup_wm3ai"]
resource_name = "modes"

[node name="editor" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_j8y2p")
script = ExtResource("2_o435n")

[node name="c" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="c" type="PanelContainer" parent="c"]
layout_mode = 2

[node name="c" type="MarginContainer" parent="c/c"]
layout_mode = 2

[node name="modes" type="HBoxContainer" parent="c/c/c"]
layout_mode = 2
script = ExtResource("3_3vi5u")

[node name="select" type="Button" parent="c/c/c/modes"]
layout_mode = 2
theme_type_variation = &"ModeButton"
toggle_mode = true
button_pressed = true
button_group = SubResource("ButtonGroup_wm3ai")
icon = ExtResource("4_78fwb")

[node name="tile" type="Button" parent="c/c/c/modes"]
layout_mode = 2
theme_type_variation = &"ModeButton"
toggle_mode = true
button_group = SubResource("ButtonGroup_wm3ai")
icon = ExtResource("5_74j0u")

[node name="key" type="Button" parent="c/c/c/modes"]
layout_mode = 2
theme_type_variation = &"ModeButton"
toggle_mode = true
button_group = SubResource("ButtonGroup_wm3ai")
icon = ExtResource("6_sdh1e")

[node name="door" type="Button" parent="c/c/c/modes"]
layout_mode = 2
theme_type_variation = &"ModeButton"
toggle_mode = true
button_group = SubResource("ButtonGroup_wm3ai")
icon = ExtResource("7_2w0at")

[node name="levelViewportCont" type="SubViewportContainer" parent="c"]
unique_name_in_owner = true
layout_mode = 2
size_flags_vertical = 3
stretch = true

[node name="levelViewport" type="SubViewport" parent="c/levelViewportCont"]
handle_input_locally = false
size = Vector2i(1152, 604)
render_target_update_mode = 4

[node name="level" parent="c/levelViewportCont/levelViewport" instance=ExtResource("8_5tdu1")]
unique_name_in_owner = true
script = ExtResource("9_q8l03")

[connection signal="gui_input" from="." to="." method="_guiInput"]
[connection signal="pressed" from="c/c/c/modes/select" to="c/c/c/modes" method="_setMode" binds= [0]]
[connection signal="pressed" from="c/c/c/modes/tile" to="c/c/c/modes" method="_setMode" binds= [1]]
[connection signal="pressed" from="c/c/c/modes/key" to="c/c/c/modes" method="_setMode" binds= [2]]
[connection signal="pressed" from="c/c/c/modes/door" to="c/c/c/modes" method="_setMode" binds= [3]]
